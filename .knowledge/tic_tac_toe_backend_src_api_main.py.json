{"is_source_file": true, "format": "Python", "description": "This is the main backend source code for a Tic Tac Toe game, built using FastAPI. It defines data models, game logic, and REST API endpoints for creating, querying, and playing the game.", "external_files": ["fastapi", "fastapi.middleware.cors", "pydantic", "typing", "uuid"], "external_methods": ["fastapi.FastAPI", "fastapi.HTTPException", "fastapi.Path", "fastapi.middleware.cors.CORSMiddleware", "pydantic.BaseModel", "pydantic.Field", "pydantic.validator", "uuid.uuid4"], "published": ["app", "GAMES", "CreateGameRequest", "GameState", "MoveRequest", "_calculate_winner", "_is_draw", "_require_game"], "classes": [{"name": "CreateGameRequest", "description": "Request model for creating a new game."}, {"name": "GameState", "description": "Represents the state of a Tic Tac Toe game, including the game ID, current board, current player, winner status, and move count."}, {"name": "MoveRequest", "description": "Request model for making a move on the board, including position and player."}], "methods": [{"name": "Optional[str] _calculate_winner(board: List[Optional[str]])", "description": "Determines if a board has a winner by checking all winning combinations.", "scope": "", "scopeKind": ""}, {"name": "bool _is_draw(board: List[Optional[str]])", "description": "Checks if the game is a draw, i.e., the board is full with no winner.", "scope": "", "scopeKind": ""}, {"name": "GameState _require_game(game_id: str)", "description": "Retrieves a game by ID or raises a 404 HTTPException if not found.", "scope": "", "scopeKind": ""}, {"name": "create_game(body: CreateGameRequest)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "get_game( game_id: str = Path(..., description=\"ID of the game to retrieve\"), )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "make_move( body: MoveRequest, game_id: str = Path(..., description=\"ID of the game to play the move on\"), )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "reset_game( game_id: str = Path(..., description=\"ID of the game to reset\"), )", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "validate_board_len(cls, v: List[Optional[str]])", "scope": "GameState", "scopeKind": "class", "description": "unavailable"}, {"name": "websocket_usage_help()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["health_check", "websocket_usage_help", "create_game", "get_game", "make_move", "reset_game"], "search-terms": ["FastAPI", "Tic Tac Toe", "game backend", "API endpoints", "GameState", "CreateGameRequest", "MoveRequest", "game logic", "HTTPException"], "state": 2, "file_id": 2, "knowledge_revision": 11, "git_revision": "082ed3ef6811dfb16f1c0d1f25569a7e37e7afe9", "revision_history": [{"7": "0ba5a93708d7ca3e0c3b5992cb5fac7e1912e6b2"}, {"11": "082ed3ef6811dfb16f1c0d1f25569a7e37e7afe9"}], "ctags": [{"_type": "tag", "name": "CreateGameRequest", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^class CreateGameRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GAMES", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^GAMES: Dict[str, Dict] = {}$/", "language": "Python", "typeref": "typename:Dict[str, Dict]", "kind": "variable"}, {"_type": "tag", "name": "GameState", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^class GameState(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MoveRequest", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^class MoveRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PLAYER", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^PLAYER = Literal[\"X\", \"O\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_calculate_winner", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def _calculate_winner(board: List[Optional[str]]) -> Optional[str]:$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "function", "signature": "(board: List[Optional[str]])"}, {"_type": "tag", "name": "_is_draw", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def _is_draw(board: List[Optional[str]]) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(board: List[Optional[str]])"}, {"_type": "tag", "name": "_require_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def _require_game(game_id: str) -> GameState:$/", "language": "Python", "typeref": "typename:GameState", "kind": "function", "signature": "(game_id: str)"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "board", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    board: List[Optional[PLAYER]] = Field($/", "language": "Python", "typeref": "typename:List[Optional[PLAYER]]", "kind": "variable", "scope": "GameState", "scopeKind": "class"}, {"_type": "tag", "name": "create_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def create_game(body: CreateGameRequest):$/", "language": "Python", "kind": "function", "signature": "(body: CreateGameRequest)"}, {"_type": "tag", "name": "current_player", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    current_player: PLAYER = Field(..., description='The player whose turn it is (\"X\" or \"O\").')$/", "language": "Python", "typeref": "typename:PLAYER", "kind": "variable", "scope": "GameState", "scopeKind": "class"}, {"_type": "tag", "name": "first_player", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    first_player: PLAYER = Field(\"X\", description='First player symbol, must be \"X\" or \"O\".')$/", "language": "Python", "typeref": "typename:PLAYER", "kind": "variable", "scope": "CreateGameRequest", "scopeKind": "class"}, {"_type": "tag", "name": "game_id", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    game_id: str = Field(..., description=\"Unique identifier of the game.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "GameState", "scopeKind": "class"}, {"_type": "tag", "name": "get_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def get_game($/", "language": "Python", "kind": "function", "signature": "( game_id: str = Path(..., description=\"ID of the game to retrieve\"), )"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "is_draw", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    is_draw: bool = Field(False, description=\"True if the game ended in a draw.\")$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "GameState", "scopeKind": "class"}, {"_type": "tag", "name": "make_move", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def make_move($/", "language": "Python", "kind": "function", "signature": "( body: MoveRequest, game_id: str = Path(..., description=\"ID of the game to play the move on\"), )"}, {"_type": "tag", "name": "moves_count", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    moves_count: int = Field(0, description=\"Number of moves made so far.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "GameState", "scopeKind": "class"}, {"_type": "tag", "name": "player", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    player: PLAYER = Field(..., description='Player making the move (\"X\" or \"O\").')$/", "language": "Python", "typeref": "typename:PLAYER", "kind": "variable", "scope": "MoveRequest", "scopeKind": "class"}, {"_type": "tag", "name": "position", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    position: int = Field(..., ge=0, le=8, description=\"Board index to play (0-8).\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "MoveRequest", "scopeKind": "class"}, {"_type": "tag", "name": "reset_game", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def reset_game($/", "language": "Python", "kind": "function", "signature": "( game_id: str = Path(..., description=\"ID of the game to reset\"), )"}, {"_type": "tag", "name": "validate_board_len", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    def validate_board_len(cls, v: List[Optional[str]]):$/", "language": "Python", "kind": "member", "signature": "(cls, v: List[Optional[str]])", "scope": "GameState", "scopeKind": "class"}, {"_type": "tag", "name": "websocket_usage_help", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^def websocket_usage_help():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "winner", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-game-platform-190955-190965/tic_tac_toe_backend/src/api/main.py", "pattern": "/^    winner: Optional[PLAYER] = Field(None, description='The winner of the game if any (\"X\" or \"O/", "language": "Python", "typeref": "typename:Optional[PLAYER]", "kind": "variable", "scope": "GameState", "scopeKind": "class"}], "hash": "733b4dd651d3272bd3ab4ca3324e6fbc", "format-version": 4, "code-base-name": "tic_tac_toe_backend", "filename": "tic_tac_toe_backend/src/api/main.py", "fields": [{"name": "Dict[str, Dict] GAMES", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PLAYER = Literal[\"X\", \"O\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[Optional[PLAYER]] board", "scope": "GameState", "scopeKind": "class", "description": "unavailable"}, {"name": "PLAYER current_player", "scope": "GameState", "scopeKind": "class", "description": "unavailable"}, {"name": "PLAYER first_player", "scope": "CreateGameRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str game_id", "scope": "GameState", "scopeKind": "class", "description": "unavailable"}, {"name": "bool is_draw", "scope": "GameState", "scopeKind": "class", "description": "unavailable"}, {"name": "int moves_count", "scope": "GameState", "scopeKind": "class", "description": "unavailable"}, {"name": "PLAYER player", "scope": "MoveRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "int position", "scope": "MoveRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[PLAYER] winner", "scope": "GameState", "scopeKind": "class", "description": "unavailable"}]}